version: 1
updated: 2025-08-14
branch: kaspi-api-integration
milestone: "zip for review"
tasks:
  - id: bundle-setup
    title: Add review bundle tooling
    status: done
    notes:
      - Added .gitattributes export-ignore entries
      - Added scripts/make_repo_bundle.sh
      - Added Makefile target `bundle`
    pr: null
    commit: bed9d9f
  - id: api-integration-basics
    title: Prepare API client scaffolding and env
    status: in-progress
    notes:
      - .env.example updated; .env.local created locally
      - test runner loads .env.local and multiple token vars
    pr: null
    commit: 774493d
  - id: orders-intake
    title: API → CRM intake for active orders
    status: in-progress
    notes:
      - Added scripts/etl_orders_api.py (JSON + CSV/XLSX)
      - Added Makefile target `orders`
      - Awaiting token to execute successfully
    pr: null
    commit: 4e378f5
  - id: size-link
    title: Link API orders to size recommendations
    status: in-progress
    notes:
      - Added scripts/link_orders_and_sizes.py and Makefile `size-recs`
      - Missing size grid files; defaults to M when not derivable
    pr: null
    commit: 74ba615
  - id: api-orders-staging
    title: Parse API orders → staging CSV
    status: done
    notes:
      - Added scripts/api_orders_to_csv.py, safe when cache missing
      - Writes data_crm/orders_api_latest.csv
    pr: null
    commit: f7ed1eb
  - id: crm-import
    title: Bring CRM folder and scripts from crm-system into API worktree
    status: done
    notes:
      - Created safety branch crm-api-join
      - Checked out data_crm and CRM scripts from origin/crm-system
    pr: null
    commit: bc47e1b
